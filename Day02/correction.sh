# **************************************************************************** #
#                                                                              #
#                                                         :::      ::::::::    #
#    main.sh                                            :+:      :+:    :+:    #
#                                                     +:+ +:+         +:+      #
#    By: yidabdes <ussef.id@gmail.com>              +#+  +:+       +#+         #
#                                                 +#+#+#+#+#+   +#+            #
#    Created: 2018/09/02 15:26:00 by yidabdes          #+#    #+#              #
#    Updated: 2018/09/02 22:12:47 by yidabdes         ###   ########.fr        #
#                                                                              #
# **************************************************************************** #

#!/bin/bash


 echo $1 | sed 's/.$//' | sed 's/.$//' > name;
 NAME=$(<name)
 echo ${NAME##*/} > name;
 NAME=$(<name);
echo "
void	ft_putchar(char c)
{
	write(1, &c, 1);
}

int	main(int argc, char const *argv[])
{
	$3
	$NAME($2);
	return 0;
}



" > main
cat $1 > cm.c;
cat main >> cm.c;
rm main;
rm name;
echo "

**************************************************************************
|                            BRGIN OF THE CODE                           |
**************************************************************************

"
cat cm.c
echo "

**************************************************************************
|                            END OF THE CODE                             |
**************************************************************************

"
echo "
**************************************************************************
|                             * Norminette *                             |
**************************************************************************
"

norminette -R CheckForbiddenSourceHeader $1
echo "
**************************************************************************
|                                   Result                               |
**************************************************************************
"
gcc -o cm cm.c

./cm | cat -e
echo "

**************************************************************************
|                                   END                                  |
**************************************************************************
"
rm cm;

